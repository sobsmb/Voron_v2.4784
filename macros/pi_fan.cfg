[gcode_macro TOGGLE_PI_FAN]
gcode:
    {% if printer['fan_generic pi'].speed > 0 %}
      SET_FAN_SPEED FAN=pi SPEED=0
    {% else %}
      SET_FAN_SPEED FAN=pi SPEED=1
    {% endif %}

[delayed_gcode DISABLE_PI_FAN]
gcode:
    SET_FAN_SPEED FAN=pi SPEED=0

[gcode_macro PI_FAN_IDLE]
gcode:
    SET_FAN_SPEED FAN=pi SPEED=.40

[gcode_macro PI_FAN_PRINT]
gcode:
    SET_FAN_SPEED FAN=pi SPEED=.75
